<div class="p-2">
	<div class="franchise-sec1" >
        <div class="franchise-form franchise-form mb-2 pb-0">
             <div class="franchise-top-header mb-0">
                 <h2 class="heading-name">{{'Stock Alert Report' | translate}}<!-- <span class="heading-name-span">{{franchiseData!.name || 'N/A'}}</span> --></h2>  
             </div>
        </div>
	</div>
	<div class="franchise-form custom-franchise-form pb-0 mb-4 pt-2" >
			<select *ngIf="loginData.userRole == 1" class="form-control custom_select" style="width:30%;margin-bottom: 10px;" (change)="filterForeCasts($event.target.value)" >
				<option value="0">{{'All' | translate}}</option>
				<option *ngFor="let rent of backupdata" value={{rent.franchiseName}}>
				{{rent.franchiseName}}
				</option>
			</select>
			<select *ngIf="dashboardData && dashboardData.length == 1 && dashboardData[0].itemsViewlist.length > 0" class="form-control custom_select" style="width:30%;margin-bottom: 10px;" (change)="filterAccToProduct($event.target.value)">
				<option disabled>{{'Select Product' | translate}}</option>
				<option value="0">All</option>
				<option *ngFor="let products of bkUpTableList2[0].itemsViewlist" value="{{products.itemId}}">
					{{products.itemName}}
				</option>
			</select>
		<div class="table-gridbox custom_gridbox">
			<table width="100%">
				<thead>
					<tr>
                        <th>{{'Product name' | translate}}</th>
                        <th>{{'Sku' | translate}}</th>
                        <th  width="100">{{'Quantity' | translate}}</th>
					</tr>
				</thead>
                <tbody *ngFor="let rent of dashboardData; index as i">
                    <tr *ngIf="loginData.userRole == 1">
                        <td class="bg-dark-franchise text-white" colspan="3"><strong>{{rent.franchiseName}}</strong></td>
                    </tr>
                    <tr *ngFor="let rentedItems of rent.itemsViewlist; index as j">
                        <td>
                            <img style="height: 50px;width: 50px;"
                                 src="{{rentedItems!.productLogo || 'assets/images/customer-img.png'}}">
                            {{rentedItems.itemName || 'N/A'}}
                        </td>
                        <td>{{rentedItems!.sku }}</td>
                        <td>
                            <span class="text-center">{{rentedItems.minimumStock || 0}}</span>
                            <!--<br>-->
                            <!--<span class="cstm-total-cal" *ngIf="rent.itemsViewlist.length == j+1 && rent.itemsViewlist.length > 1">{{getTotal(i,j, rent.itemsViewlist, rent.franchiseName)}}</span>-->
                        </td>
                    </tr>
                    <tr class="cstm-total-cal" *ngIf="rent.itemsViewlist && rent.itemsViewlist.length > 0">
                        <td></td>
                        <td></td>
                        <td>
                            {{getTotal(i, rent.itemsViewlist, rent.franchiseName)}}
                        </td>
                    </tr>
                    <tr *ngIf="rent.itemsViewlist && rent.itemsViewlist.length < 1">
                        <td>
                            {{'Data Not Found!' | translate}}
                        </td>
                    </tr>
                    <tr *ngIf="dashboardData.length == i+1">
                        <td colspan="3">
                            <div echarts [options]="getPieChartsOption()" class="echart" style="height: 250px; width: 550px; margin: auto"></div>
                        </td>
                    </tr>
                </tbody>
			</table>
		</div>
	</div>
</div>